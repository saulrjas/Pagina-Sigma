<!doctype html>
<!-- =============================================================
     PROYECTO: Sigma – Gestión Patrimonial, Inversiones, Inmuebles y Seguros
     DESCRIPCIÓN: Landing con secciones hero, unidades, aliados, beneficios,
                  CTA, contacto y footer. Estructura comentada en español.
     NOTAS: Mantener este archivo como index.html en la carpeta raíz del sitio.
            Los comentarios marcan INICIO/FIN de cada bloque para ubicar rápido.
     ============================================================= -->
<html lang="es">
<head>
   <link rel="stylesheet" href="css/main.css?v=3" />
  <!-- ======================= HEAD (Metadatos): INICIO ======================= -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sigma – Gestión Patrimonial, Inversiones, Inmuebles y Seguros</title>
  <meta name="description" content="Soluciones financieras integrales para tu familia y tu empresa: gestión patrimonial, corretaje de seguros, asesoría inmobiliaria y bancaria.">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='46' fill='none' stroke='%23173D7A' stroke-width='8'/%3E%3C/svg%3E">
  <!-- ======================= HEAD (Metadatos): FIN ========================== -->

  <!-- ============================== CSS: INICIO ============================= -->

  <!-- =============================== CSS: FIN ============================== -->
  
</head>
<body>
 <div id="app-loader" class="app-loader" aria-live="polite" aria-busy="true" role="status">
  <div class="spinner" role="status" aria-label="Cargando"></div>
</div>


  <!-- ======================== HEADER / NAV: INICIO ======================== -->
  <header role="navigation" aria-label="Barra de navegación principal">
    <div class="container navbar">
      <a href="#inicio" class="brand">
        <img src="assets/logo-sigma.png" alt="Sigma" />
        <span class="wordmark">SIGMA</span>
      </a>

      <nav class="navlinks" aria-label="Enlaces principales">
        <a href="#servicios">Servicios</a>
        <a href="#unidades">Unidades</a>
        <a href="#aliados">Aliados</a>
        <a href="#beneficios">Beneficios</a>
        <a href="#contacto">Contacto</a>
      </nav>

      <div class="cta-wrap">
        <a class="btn primary" href="https://wa.me/584123169718?text=Hola,%20me%20gustaría%20contactar%20un%20asesor" target="_blank" rel="noopener noreferrer" style="background:var(--primary); color:#fff">Contáctanos</a>
        
        <!-- ====== NUEVO: Botón de sesión con menú ====== -->
        <div class="login-dropdown">
          <button class="btn" id="btnLoginMenu" aria-expanded="false" style="background:#fff; color:var(--primary); border:1.5px solid var(--primary)">Iniciar sesión ▾</button>
          <div class="login-menu" id="loginMenu" role="menu">
            <button data-role="socio" class="login-option">Socios</button>
            <button data-role="cliente" class="login-option">Clientes</button>
          </div>
        </div>

        <button class="menu-btn" id="menuBtn" aria-label="Abrir menú" aria-expanded="false" aria-controls="mobilePanel">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 7h16M4 12h16M4 17h16" stroke="#2a3b55" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>
    
    <!-- Panel móvil -->
    <div class="mobile-panel" id="mobilePanel" role="region" aria-label="Panel de navegación móvil">
      <div class="links">
        <a href="#servicios">Servicios</a>
        <a href="#unidades">Unidades</a>
        <a href="#aliados">Aliados</a>
        <a href="#beneficios">Beneficios</a>
        <a href="#contacto">Contacto</a>
      </div>
    </div>
  </header>
  <!-- ========================= HEADER / NAV: FIN ========================= -->

  <!-- ============ BARRA DE COTIZACIONES DE BOLSA: INICIO ========= -->
  <div class="market-ticker" aria-label="Barra de cotizaciones de ejemplo">
    <div class="ticker-track" aria-hidden="false">
      <div class="ticker-item">
        <span class="symbol">S&P 500</span>
        <span class="price">5,234.18</span>
        <span class="change positive">+0.85%</span>
      </div>
      <div class="ticker-item">
        <span class="symbol">NASDAQ</span>
        <span class="price">16,274.94</span>
        <span class="change positive">+1.24%</span>
      </div>
      <div class="ticker-item">
        <span class="symbol">DOW</span>
        <span class="price">39,131.53</span>
        <span class="change negative">-0.12%</span>
      </div>
      <div class="ticker-item">
        <span class="symbol">AAPL</span>
        <span class="price">$178.25</span>
        <span class="change positive">+2.13%</span>
      </div>
      <div class="ticker-item">
        <span class="symbol">MSFT</span>
        <span class="price">$412.80</span>
        <span class="change positive">+1.45%</span>
      </div>
      <div class="ticker-item">
        <span class="symbol">GOOGL</span>
        <span class="price">$141.20</span>
        <span class="change negative">-0.34%</span>
      </div>
      <div class="ticker-item">
        <span class="symbol">TSLA</span>
        <span class="price">$247.15</span>
        <span class="change positive">+3.67%</span>
      </div>
      <div class="ticker-item">
        <span class="symbol">BTC-USD</span>
        <span class="price">$67,234</span>
        <span class="change positive">+4.21%</span>
      </div>
      <!-- Duplicados para scroll infinito -->
      <div class="ticker-item"><span class="symbol">S&P 500</span><span class="price">5,234.18</span><span class="change positive">+0.85%</span></div>
      <div class="ticker-item"><span class="symbol">NASDAQ</span><span class="price">16,274.94</span><span class="change positive">+1.24%</span></div>
      <div class="ticker-item"><span class="symbol">DOW</span><span class="price">39,131.53</span><span class="change negative">-0.12%</span></div>
      <div class="ticker-item"><span class="symbol">AAPL</span><span class="price">$178.25</span><span class="change positive">+2.13%</span></div>
      <div class="ticker-item"><span class="symbol">MSFT</span><span class="price">$412.80</span><span class="change positive">+1.45%</span></div>
      <div class="ticker-item"><span class="symbol">GOOGL</span><span class="price">$141.20</span><span class="change negative">-0.34%</span></div>
      <div class="ticker-item"><span class="symbol">TSLA</span><span class="price">$247.15</span><span class="change positive">+3.67%</span></div>
      <div class="ticker-item"><span class="symbol">BTC-USD</span><span class="price">$67,234</span><span class="change positive">+4.21%</span></div>
    </div>
  </div>
  <!-- ============= BARRA DE COTIZACIONES DE BOLSA: FIN =========== -->

  <!-- ===================== HERO / CARRUSEL: INICIO ===================== -->
  <section id="inicio" class="hero-carousel" role="banner" aria-label="Portada – Carrusel">
    <button class="nav prev" aria-label="Slide anterior">
      <svg viewBox="0 0 24 24" fill="none"><path d="M15 19l-7-7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>
    <button class="nav next" aria-label="Slide siguiente">
      <svg viewBox="0 0 24 24" fill="none"><path d="M9 5l7 7-7 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>

    <div class="slides" id="heroSlides">
      <!-- Slide 1 – Sigma Global -->
      <article class="slide active" style="background-image:url('assets/hero/sigma-global.jpg')">
        <div class="overlay"></div>
        <div class="content">
          <div class="inner">
            <span class="kicker">Sigma Global</span>
            <h1>Impulsa tu empresa<br>con asesoría estratégica</h1>
            <p>Finanzas, eficiencia operativa y crecimiento sostenible con expertos a tu lado.</p>
            <div class="actions">
              <a href="#unidades" class="btn primary">Ver unidad</a>
              <a href="#contacto" class="btn ghost">Agenda consulta</a>
            </div>
          </div>
        </div>
      </article>

      <!-- Slide 2 – Gestión Patrimonial -->
      <article class="slide" style="background-image:url('assets/hero/patrimonial.jpg')">
        <div class="overlay"></div>
        <div class="content">
          <div class="inner">
            <span class="kicker">Gestión Patrimonial</span>
            <h1>Planifica, preserva y crece<br>tu patrimonio</h1>
            <p>Portafolios y banca internacional con enfoque de largo plazo.</p>
            <div class="actions">
              <a href="#unidades" class="btn primary">Ver unidad</a>
              <a href="#contacto" class="btn ghost">Agenda consulta</a>
            </div>
          </div>
        </div>
      </article>

      <!-- Slide 3 – Sigma Inmobiliaria -->
      <article class="slide" style="background-image:url('assets/hero/inmobiliaria.jpg')">
        <div class="overlay"></div>
        <div class="content">
          <div class="inner">
            <span class="kicker">Sigma Inmobiliaria</span>
            <h1>Invierte con criterio<br>en bienes raíces</h1>
            <p>Compra, venta y administración con visión de inversión.</p>
            <div class="actions">
              <a href="#unidades" class="btn primary">Ver unidad</a>
              <a href="#contacto" class="btn ghost">Agenda consulta</a>
            </div>
          </div>
        </div>
      </article>

      <!-- Slide 4 – Corretaje de Seguros -->
      <article class="slide" style="background-image:url('assets/hero/seguros.png')">
        <div class="overlay"></div>
        <div class="content">
          <div class="inner">
            <span class="kicker">Sigma Corretaje de Seguros</span>
            <h1>A tu lado en cada siniestro,<br>como tu familia</h1>
            <p>Salud, vida y viajes. Acompañamiento 24/7 ante siniestros.</p>
            <div class="actions">
              <a href="#unidades" class="btn primary">Ver unidad</a>
              <a href="#contacto" class="btn ghost">Agenda consulta</a>
            </div>
          </div>
        </div>
      </article>
    </div>

    <!-- Puntos indicadores -->
    <div class="dots" id="heroDots" aria-label="Indicadores de slides"></div>
  </section>
  <!-- ====================== HERO / CARRUSEL: FIN ====================== -->

  <!-- ====== NUEVO: Modal de login ====== -->
  <div class="modal" id="loginModal" aria-hidden="true">
    <div class="modal-backdrop" onclick="closeModal()"></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
      <h3 id="loginTitle">Ingresar</h3>
      <p id="loginSubtitle" class="muted">Selecciona rol</p>
      <form id="loginForm">
        <label>Correo</label>
        <input type="email" id="loginEmail" required placeholder="correo@sigma.com" />
        <label>Contraseña</label>
        <input type="password" id="loginPass" required placeholder="••••••••" />
        <div id="loginError" style="color:#ef4444; font-size:.9rem; margin-top:8px"></div>
        <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:12px">
          <button type="button" class="btn" onclick="closeModal()" style="background:transparent; color:var(--primary); border:1.5px solid var(--primary)">Cancelar</button>
          <button type="submit" class="btn primary">Ingresar</button>
        </div>
      </form>
    </div>
  </div>


  <!-- ======================== ABOUT / STATS: INICIO ======================= -->
  <section class="about" id="servicios">
    <div class="container">
      <h2 class="reveal">Acerca de Sigma</h2>
      <p class="lead reveal">Ofrecemos soluciones completas y personalizadas para proteger y hacer crecer tu patrimonio, con el respaldo de profesionales y aliados globales.</p>

      <div class="stats" role="list" aria-label="Estadísticas principales">
        <div class="stat reveal" role="listitem"><h3>+4.000</h3><p>Clientes globales</p></div>
        <div class="stat reveal" role="listitem"><h3>+70</h3><p>Productos y servicios</p></div>
        <div class="stat reveal" role="listitem"><h3>+60</h3><p>Profesionales</p></div>
        <div class="stat reveal" role="listitem"><h3>4</h3><p>Unidades de negocio</p></div>
      </div>
    </div>
  </section>
  <!-- ========================= ABOUT / STATS: FIN ========================= -->

  <!-- ========================== UNIDADES: INICIO ========================== -->
  <section class="units" id="unidades">
    <div class="container">
      <h2 class="reveal">Unidades de Negocio</h2>
      <div class="grid-units" role="list" aria-label="Listado de unidades">
        <div class="unit reveal" role="listitem">
          <span class="tag">Gestión patrimonial</span>
          <h3>Family Office</h3>
          <p>Planificación patrimonial, banca y portafolios con enfoque de largo plazo.</p>
        </div>
        <div class="unit reveal" role="listitem">
          <span class="tag">Corretaje</span>
          <h3>Seguros</h3>
          <p>Salud, vida y viajes. Acompañamos cada siniestro 24/7 como tu mejor aliado.</p>
        </div>
        <div class="unit reveal" role="listitem">
          <span class="tag">Asesoría</span>
          <h3>Inmobiliaria</h3>
          <p>Compra, venta y administración de inmuebles con visión de inversión.</p>
        </div>
        <div class="unit reveal" role="listitem">
          <span class="tag">Empresarial</span>
          <h3>Consultoría</h3>
          <p>Estrategia, finanzas y procesos para potenciar tu negocio.</p>
        </div>
      </div>
    </div>
  </section>
  <!-- =========================== UNIDADES: FIN =========================== -->

  <!-- =========================== PARTNERS: INICIO ======================== -->
  <section class="partners" id="aliados" aria-label="Aliados estratégicos">
    <div class="container">
      <h2 class="title">Cuentas administradas por profesionales</h2>
      <p class="subtitle">Trabajamos con bancos, brokers y gestores de activos de clase mundial.</p>

      <div class="logo-ticker" aria-label="Empresas con las que trabajamos">
        <ul class="logo-track">
          <!-- SET 1: Originales -->
          <li><a href="https://www.blackrock.com" target="_blank" rel="noopener noreferrer" aria-label="BlackRock" title="Ir a BlackRock"><img src="assets/partners/ally-blackrock.png" alt="BlackRock" loading="lazy"></a></li>
          <li><a href="https://www.interactivebrokers.com" target="_blank" rel="noopener noreferrer" aria-label="Interactive Brokers" title="Ir a Interactive Brokers"><img src="assets/partners/ally-ib.png" alt="Interactive Brokers" loading="lazy"></a></li>
          <li><a href="https://facebank.pr" target="_blank" rel="noopener noreferrer" aria-label="Facebank" title="Ir a Facebank"><img src="assets/partners/ally-facebank.png" alt="Facebank" loading="lazy"></a></li>
          <li><a href="https://www.bcpglobal.com" target="_blank" rel="noopener noreferrer" aria-label="BCP Global" title="Ir a BCP Global"><img src="assets/partners/ally-bcp-global.png" alt="BCP Global" loading="lazy"></a></li>
          <li><a href="https://www.vestiva.us/" target="_blank" rel="noopener noreferrer" aria-label="Vestiva" title="Ir a Vestiva"><img src="assets/partners/ally-vestiva.png" alt="Vestiva" loading="lazy"></a></li>
          <li><a href="https://www.empirefa.com" target="_blank" rel="noopener noreferrer" aria-label="Empire Financial" title="Empire Financial"><img src="assets/partners/ally-empire.png" alt="Empire Financial" loading="lazy"></a></li>
          <!-- SET 2: Primera duplicación -->
          <li><a href="https://www.blackrock.com" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-blackrock.png" alt="" loading="lazy"></a></li>
          <li><a href="https://www.interactivebrokers.com" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-ib.png" alt="" loading="lazy"></a></li>
          <li><a href="https://facebank.pr" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-facebank.png" alt="" loading="lazy"></a></li>
          <li><a href="https://www.bcpglobal.com" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-bcp-global.png" alt="" loading="lazy"></a></li>
          <li><a href="https://www.vestiva.us/" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-vestiva.png" alt="" loading="lazy"></a></li>
          <li><a href="https://www.empirefa.com" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-empire.png" alt="" loading="lazy"></a></li>
          <!-- SET 3: Segunda duplicación -->
          <li><a href="https://www.blackrock.com" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-blackrock.png" alt="" loading="lazy"></a></li>
          <li><a href="https://www.interactivebrokers.com" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-ib.png" alt="" loading="lazy"></a></li>
          <li><a href="https://facebank.pr" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-facebank.png" alt="" loading="lazy"></a></li>
          <li><a href="https://www.bcpglobal.com" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-bcp-global.png" alt="" loading="lazy"></a></li>
          <li><a href="https://www.vestiva.us/" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-vestiva.png" alt="" loading="lazy"></a></li>
          <li><a href="https://www.empirefa.com" target="_blank" rel="noopener noreferrer" tabindex="-1" aria-hidden="true"><img src="assets/partners/ally-empire.png" alt="" loading="lazy"></a></li>
        </ul>
      </div>
    </div>
  </section>
  <!-- ============================ PARTNERS: FIN =========================== -->

  <!-- ============================ BENEFITS: INICIO ======================== -->
  <section class="benefits" id="beneficios">
    <div class="container">
      <h2 class="reveal">Logra lo que te propongas</h2>
      <p class="lead reveal">Construimos una ruta financiera para cada objetivo y te acompañamos en cada paso.</p>
      <div class="benefit-grid">
        <div class="benefit reveal"><h4>Jubilación tranquila</h4><p>Plan de retiro con ingresos sostenibles y protección del capital.</p></div>
        <div class="benefit reveal"><h4>Comprar vivienda</h4><p>Estrategia de ahorro e inversión alineada a tu plazo y moneda.</p></div>
        <div class="benefit reveal"><h4>Educación para hijos</h4><p>Fondos designados y seguros que protegen el proyecto familiar.</p></div>
        <div class="benefit reveal"><h4>Seguridad financiera</h4><p>Pólizas de vida y salud con atención de siniestros 24/7.</p></div>
        <div class="benefit reveal"><h4>Ingresos pasivos</h4><p>Portafolios de bonos y modelos por perfil de riesgo.</p></div>
        <div class="benefit reveal"><h4>Viajar y crecer</h4><p>Coberturas de viaje, banca internacional y liquidez global.</p></div>
      </div>
    </div>
  </section>
  <!-- ============================= BENEFITS: FIN ========================= -->

  <!-- ================================= CTA: INICIO ======================= -->
  <section class="cta">
    <div class="container">
      <h3 class="reveal">¿Listo para proteger y hacer crecer tu patrimonio?</h3>
      <p class="reveal">Agenda una consulta gratuita con nuestros expertos.</p>
      <a href="#contacto" class="btn primary reveal">Contactar Ahora</a>
    </div>
  </section>
  <!-- ================================== CTA: FIN ======================== -->

  <!-- ============================= CONTACTO: INICIO ====================== -->
  <section class="contact" id="contacto">
    <div class="container">
      <h2 class="reveal">Contáctanos</h2>
      <form class="form reveal" onsubmit="event.preventDefault(); alert('¡Gracias! Te contactaremos pronto.');">
        <div class="row">
          <div>
            <label for="nombre">Nombre</label>
            <input id="nombre" name="nombre" type="text" placeholder="Tu nombre" required>
          </div>
          <div>
            <label for="correo">Correo</label>
            <input id="correo" name="correo" type="email" placeholder="tucorreo@ejemplo.com" required>
          </div>
        </div>
        <div class="row" style="margin-top:10px">
          <div>
            <label for="telefono">Teléfono</label>
            <input id="telefono" name="telefono" type="tel" placeholder="+58 ...">
          </div>
          <div>
            <label for="tema">Interés</label>
            <input id="tema" name="tema" type="text" placeholder="Seguros, inversiones, inmuebles...">
          </div>
        </div>
        <div style="margin-top:10px">
          <label for="mensaje">Mensaje</label>
          <textarea id="mensaje" name="mensaje" placeholder="Cuéntanos brevemente en qué podemos ayudarte"></textarea>
        </div>
        <div style="margin-top:14px; display:flex; gap:10px; justify-content:flex-end">
          <button class="btn" type="reset" style="background:transparent; color:var(--primary); border:1.5px solid var(--primary)">Limpiar</button>
          <button class="btn primary" type="submit">Enviar</button>
        </div>
      </form>
    </div>
  </section>
  <!-- ============================== CONTACTO: FIN ======================== -->

  <!-- ================================ FOOTER: INICIO ===================== -->
  <footer role="contentinfo">
    <div class="container footer-grid">
      <div>
        <div class="brand" style="margin-bottom:8px">
          <img src="assets/logotipo-blanco-footer.png" alt="Sigma" class="footer-logo" />
          <strong class="wordmark" style="color:#fff">SIGMA</strong>
        </div>
        <p style="margin:6px 0 0; color:#c4d1ee">Expertos en gestión patrimonial y protección de activos. Desde 2010.</p>
      </div>
      <div>
        <h4>Servicios</h4>
        <div style="display:grid; gap:6px">
          <a href="#unidades">Gestión Patrimonial</a>
          <a href="#unidades">Corretaje de Seguros</a>
          <a href="#unidades">Asesoría Inmobiliaria</a>
          <a href="#unidades">Consultoría Empresarial</a>
        </div>
      </div>
      <div>
        <h4>Contacto</h4>
        <div style="display:grid; gap:6px">
          <a href="mailto:contacto@sigmavzla.com">contacto@sigmavzla.com</a>
          <span>Tel.: +58 (000) 000-0000</span>
          <span>Caracas • Valencia • Miami</span>
        </div>
      </div>
    </div>
    <div class="container copy">© <span id="year"></span> Sigma. Todos los derechos reservados.</div>
  </footer>
  <!-- ================================= FOOTER: FIN ======================= -->

  <!-- ====== NUEVO: DASHBOARD DE SOCIOS: INICIO ====== -->
  <div class="dashboard" id="socioDashboard">
    <!-- Sidebar izquierdo -->
    <aside class="dashboard-sidebar">
      <div class="logo-area">
        <img src="assets/logo-sigma.png" alt="Sigma" />
      </div>
      
      <div class="user-info">
        <strong id="userName">Carlos García</strong>
        <span>Asesor</span>
      </div>

      <nav class="sidebar-menu">
        <a href="#" class="menu-item active" data-view="calendario">
          <svg viewBox="0 0 24 24" fill="none"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke-width="2"/><line x1="16" y1="2" x2="16" y2="6" stroke-width="2"/><line x1="8" y1="2" x2="8" y2="6" stroke-width="2"/><line x1="3" y1="10" x2="21" y2="10" stroke-width="2"/></svg>
          Calendario
        </a>
        <a href="#" class="menu-item" data-view="reservas">
          <svg viewBox="0 0 24 24" fill="none"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-width="2"/><polyline points="9 22 9 12 15 12 15 22" stroke-width="2"/></svg>
          Mis Reservas
        </a>
        <a href="#" class="menu-item" data-view="perfil">
          <svg viewBox="0 0 24 24" fill="none"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke-width="2"/><circle cx="12" cy="7" r="4" stroke-width="2"/></svg>
          Mi Perfil
        </a>
      </nav>

      <div class="sidebar-logout">
        <button class="btn" onclick="logout()" style="width:100%; background:transparent; color:#ef4444; border:1.5px solid #ef4444">
          Cerrar sesión
        </button>
      </div>
    </aside>

    <!-- Contenido principal -->
    <main class="dashboard-main">
      <header class="dashboard-header">
        <h1 id="dashboardTitle">Calendario de Salas</h1>
        <button class="btn primary" onclick="showNewReserva()">+ Nueva Reserva</button>
      </header>

      <div class="dashboard-content">
        <!-- Vista de Calendario -->
        <div id="calendarioView" class="view-content">
          <div class="calendar-view">
            <div class="calendar-header">
              <h2 id="currentMonth">Marzo 2025</h2>
              <div class="calendar-nav">
                <button onclick="prevMonth()">
                  <svg viewBox="0 0 24 24" fill="none"><polyline points="15 18 9 12 15 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </button>
                <button onclick="nextMonth()">
                  <svg viewBox="0 0 24 24" fill="none"><polyline points="9 18 15 12 9 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </button>
              </div>
            </div>
            
            <div class="calendar-grid" id="calendarGrid">
              <!-- Headers de días -->
              <div class="calendar-day-header">Lun</div>
              <div class="calendar-day-header">Mar</div>
              <div class="calendar-day-header">Mié</div>
              <div class="calendar-day-header">Jue</div>
              <div class="calendar-day-header">Vie</div>
              <div class="calendar-day-header">Sáb</div>
              <div class="calendar-day-header">Dom</div>
              <!-- Los días se generan dinámicamente -->
            </div>
          </div>
        </div>

        <!-- Vista de Mis Reservas -->
        <div id="reservasView" class="view-content" style="display:none">
          <div style="background:#fff; border-radius:12px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,.1)">
            <h3 style="margin:0 0 20px">Mis Reservas</h3>
            
            <!-- Formulario de nueva reserva -->
            <div id="reservaForm" style="display:none; background:#f9fafb; padding:20px; border-radius:12px; margin-bottom:20px">
              <h4 style="margin:0 0 16px">Solicitar Reserva</h4>
              <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px">
                <div>
                  <label style="font-weight:600; display:block; margin-bottom:6px">Fecha</label>
                  <input type="date" id="reservaFecha" style="width:100%; padding:10px; border:1px solid #ccd6ea; border-radius:8px" required />
                </div>
                <div>
                  <label style="font-weight:600; display:block; margin-bottom:6px">Sala</label>
                  <select id="reservaSala" style="width:100%; padding:10px; border:1px solid #ccd6ea; border-radius:8px" required>
                    <option value="">Seleccionar...</option>
                    <option value="Sala Principal">Sala Principal (10 personas)</option>
                    <option value="Sala Ejecutiva">Sala Ejecutiva (6 personas)</option>
                    <option value="Sala Pequeña">Sala Pequeña (4 personas)</option>
                  </select>
                </div>
              </div>
              <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px">
                <div>
                  <label style="font-weight:600; display:block; margin-bottom:6px">Hora Inicio</label>
                  <input type="time" id="reservaHoraInicio" style="width:100%; padding:10px; border:1px solid #ccd6ea; border-radius:8px" required />
                </div>
                <div>
                  <label style="font-weight:600; display:block; margin-bottom:6px">Hora Fin</label>
                  <input type="time" id="reservaHoraFin" style="width:100%; padding:10px; border:1px solid #ccd6ea; border-radius:8px" required />
                </div>
              </div>
              <div style="margin-top:12px">
                <label style="font-weight:600; display:block; margin-bottom:6px">Motivo</label>
                <textarea id="reservaMotivo" placeholder="Reunión con cliente, presentación, etc." style="width:100%; padding:10px; border:1px solid #ccd6ea; border-radius:8px; min-height:80px"></textarea>
              </div>
              <div style="display:flex; gap:10px; margin-top:16px">
                <button class="btn" onclick="hideReservaForm()" style="background:transparent; color:var(--primary); border:1.5px solid var(--primary)">Cancelar</button>
                <button class="btn primary" onclick="solicitarReserva()">Solicitar Reserva</button>
              </div>
            </div>

            <div id="reservasList"></div>
          </div>
        </div>

        <!-- Vista de Perfil -->
        <div id="perfilView" class="view-content" style="display:none">
          <div style="background:#fff; border-radius:12px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,.1)">
            <h3>Mi Perfil</h3>
            <p style="color:#6b7280">Información del usuario (próximamente)</p>
          </div>
        </div>
      </div>
    </main>
  </div>
  <!-- ====== NUEVO: DASHBOARD DE SOCIOS: FIN ====== -->

  <!-- ====== NUEVO: DASHBOARD DE OPERACIONES: INICIO ====== -->
  <div class="dashboard" id="operacionesDashboard">
    <div class="container">
      <div class="dash-header">
        <div>
          <h2 style="margin:0">Panel de Operaciones</h2>
          <p style="margin:4px 0 0; color:var(--muted)">Gestión de solicitudes de salas</p>
        </div>
        <button class="btn" onclick="logout()" style="background:transparent; color:var(--primary); border:1.5px solid var(--primary)">Cerrar sesión</button>
      </div>

      <div class="dash-content">
        <h3>Solicitudes Pendientes</h3>
        <div id="pendientesList"></div>
      </div>

      <div class="dash-content">
        <h3>Todas las Reservas</h3>
        <div id="allReservasList"></div>
      </div>
    </div>
  </div>
  <!-- ====== NUEVO: DASHBOARD DE OPERACIONES: FIN ====== -->

  <!-- ================================ SCRIPTS: INICIO ==================== -->
  <script>
  // -------- Año dinámico en footer --------
  document.getElementById('year').textContent = new Date().getFullYear();

  // -------- Toggle menú móvil --------
  const btn = document.getElementById('menuBtn');
  const panel = document.getElementById('mobilePanel');
  btn?.addEventListener('click', () => {
    const open = panel.style.display === 'block';
    panel.style.display = open ? 'none' : 'block';
    btn.setAttribute('aria-expanded', String(!open));
  });

  // -------- Reveal básico al hacer scroll --------
  const els = document.querySelectorAll('.reveal');
  const io = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if(e.isIntersecting){
        e.target.classList.add('shown');
        e.target.style.animationDelay = (Math.random()*0.2)+'s';
        e.target.classList.remove('reveal');
      }
    });
  },{ threshold: 0.12 });
  els.forEach(el => io.observe(el));

  // -------- Carrusel HERO (nativo): INICIO --------
  (function(){
    const root   = document.getElementById('heroSlides');
    const slides = Array.from(root.querySelectorAll('.slide'));
    const prev   = document.querySelector('.hero-carousel .prev');
    const next   = document.querySelector('.hero-carousel .next');
    const dotsC  = document.getElementById('heroDots');

    let i = 0, auto = null, delay = 6500, locked = false;

    // Crear puntos
    slides.forEach((_, idx)=>{
      const b = document.createElement('button');
      b.className = 'dot' + (idx===0 ? ' active' : '');
      b.setAttribute('aria-label', 'Ir al slide ' + (idx+1));
      b.addEventListener('click', ()=>go(idx));
      dotsC.appendChild(b);
    });
    const dots = Array.from(dotsC.querySelectorAll('.dot'));

    function go(n){
      if(locked || n===i) return;
      locked = true;
      slides[i].classList.remove('active');
      dots[i].classList.remove('active');
      i = (n + slides.length) % slides.length;
      slides[i].classList.add('active');
      dots[i].classList.add('active');
      setTimeout(()=> locked=false, 350);
    }
    function nextSlide(){ go(i+1); }
    function prevSlide(){ go(i-1); }

    prev.addEventListener('click', prevSlide);
    next.addEventListener('click', nextSlide);

    // Teclado
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'ArrowRight') nextSlide();
      if(e.key === 'ArrowLeft')  prevSlide();
    });

    // Autoplay con pausa al hover
    const carousel = document.querySelector('.hero-carousel');
    function start(){ stop(); auto = setInterval(nextSlide, delay); }
    function stop(){ if(auto) clearInterval(auto); }
    carousel.addEventListener('mouseenter', stop);
    carousel.addEventListener('mouseleave', start);

    // Gestos táctiles
    let x0 = null;
    carousel.addEventListener('touchstart', (e)=> x0 = e.touches[0].clientX, {passive:true});
    carousel.addEventListener('touchend', (e)=>{
      if(x0===null) return; 
      const dx = e.changedTouches[0].clientX - x0;
      if(Math.abs(dx) > 50){ dx<0 ? nextSlide() : prevSlide(); }
      x0 = null;
    });

    start();
  })();
  // -------- Carrusel HERO (nativo): FIN --------

  // ==================== NUEVO: SISTEMA DE AUTENTICACIÓN ====================

  // Usuarios simulados (en producción esto vendría de una base de datos)
  const USUARIOS = {
    // Socios/Asesores
    'asesor1@sigma.com': { pass: 'demo123', rol: 'socio', nombre: 'Carlos García' },
    'asesor2@sigma.com': { pass: 'demo123', rol: 'socio', nombre: 'María López' },
    'asesor3@sigma.com': { pass: 'demo123', rol: 'socio', nombre: 'Juan Pérez' },
    
    // Operaciones (pueden aprobar)
    'ops1@sigma.com': { pass: 'ops123', rol: 'operaciones', nombre: 'Admin Operaciones 1' },
    'ops2@sigma.com': { pass: 'ops123', rol: 'operaciones', nombre: 'Admin Operaciones 2' },
    'ops3@sigma.com': { pass: 'ops123', rol: 'operaciones', nombre: 'Admin Operaciones 3' },
    
    // Clientes (dashboard diferente - pendiente)
    'cliente@ejemplo.com': { pass: 'cliente123', rol: 'cliente', nombre: 'Cliente Demo' }
  };

  let currentUser = null;
  let selectedRole = null;

  // Toggle dropdown
  document.getElementById('btnLoginMenu')?.addEventListener('click', (e) => {
    e.stopPropagation();
    document.querySelector('.login-dropdown').classList.toggle('open');
  });

  document.addEventListener('click', () => {
    document.querySelector('.login-dropdown')?.classList.remove('open');
  });

  // Seleccionar rol
  document.querySelectorAll('.login-option').forEach(btn => {
    btn.addEventListener('click', (e) => {
      selectedRole = e.target.dataset.role;
      openModal(selectedRole);
      document.querySelector('.login-dropdown').classList.remove('open');
    });
  });

  function openModal(role) {
    const modal = document.getElementById('loginModal');
    const title = document.getElementById('loginTitle');
    const subtitle = document.getElementById('loginSubtitle');
    
    title.textContent = role === 'socio' ? 'Acceso Socios' : 'Acceso Clientes';
    subtitle.textContent = role === 'socio' ? 
      'Gestiona tus reservas de salas' : 
      'Consulta tu información';
    
    modal.setAttribute('aria-hidden', 'false');
    document.getElementById('loginEmail').focus();
  }

  function closeModal() {
    document.getElementById('loginModal').setAttribute('aria-hidden', 'true');
    document.getElementById('loginForm').reset();
    document.getElementById('loginError').textContent = '';
  }

  // Login
  document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('loginEmail').value;
    const pass = document.getElementById('loginPass').value;
    const error = document.getElementById('loginError');
    
    const user = USUARIOS[email];
    
    if (!user || user.pass !== pass) {
      error.textContent = 'Credenciales incorrectas';
      return;
    }
    
    // Login exitoso
    currentUser = { email, ...user };
    closeModal();
    
    // Mostrar dashboard según rol
    if (user.rol === 'socio') {
      showSocioDashboard();
    } else if (user.rol === 'operaciones') {
      showOperacionesDashboard();
    } else {
      alert('Dashboard de clientes en desarrollo');
    }
  });

  function logout() {
    currentUser = null;
    document.getElementById('socioDashboard').classList.remove('active');
    document.getElementById('operacionesDashboard').classList.remove('active');
    document.body.classList.remove('dashboard-active');
    
    // Restaurar visibilidad de la landing page
    document.querySelector('header').style.display = 'block';
    
    // Scroll al inicio
    window.scrollTo(0, 0);
  }

  // ==================== DASHBOARD SOCIOS ====================

  let currentDate = new Date();
  let currentView = 'calendario';

  async function showSocioDashboard() {
    // Ocultar toda la landing page
    document.body.classList.add('dashboard-active');
    
    // Mostrar dashboard
    document.getElementById('socioDashboard').classList.add('active');
    document.getElementById('userName').textContent = currentUser.nombre;
    
    // Mostrar vista de calendario por defecto
    switchView('calendario');
    await renderCalendar();
    await loadReservas();
  }

  // Cambiar entre vistas
  function switchView(view) {
    currentView = view;
    
    // Actualizar menú activo
    document.querySelectorAll('.sidebar-menu .menu-item').forEach(item => {
      item.classList.remove('active');
      if(item.dataset.view === view) {
        item.classList.add('active');
      }
    });
    
    // Ocultar todas las vistas
    document.querySelectorAll('.view-content').forEach(v => v.style.display = 'none');
    
    // Mostrar vista seleccionada
    if(view === 'calendario') {
      document.getElementById('calendarioView').style.display = 'block';
      document.getElementById('dashboardTitle').textContent = 'Calendario de Salas';
    } else if(view === 'reservas') {
      document.getElementById('reservasView').style.display = 'block';
      document.getElementById('dashboardTitle').textContent = 'Mis Reservas';
    } else if(view === 'perfil') {
      document.getElementById('perfilView').style.display = 'block';
      document.getElementById('dashboardTitle').textContent = 'Mi Perfil';
    }
  }

  // Event listeners para el menú
  document.querySelectorAll('.sidebar-menu .menu-item').forEach(item => {
    item.addEventListener('click', (e) => {
      e.preventDefault();
      switchView(item.dataset.view);
    });
  });

  // Renderizar calendario
  async function renderCalendar() {
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();
    
    // Actualizar título del mes
    const monthNames = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                        'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
    document.getElementById('currentMonth').textContent = `${monthNames[month]} ${year}`;
    
    // Obtener primer y último día del mes
    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    
    // Ajustar para que la semana empiece en Lunes (1 = Lunes, 0 = Domingo)
    let startDay = firstDay.getDay() - 1;
    if (startDay < 0) startDay = 6; // Si es domingo, ponerlo al final
    
    // Días del mes anterior a mostrar
    const prevMonthLastDay = new Date(year, month, 0).getDate();
    
    const grid = document.getElementById('calendarGrid');
    
    // Limpiar grid (mantener headers)
    while(grid.children.length > 7) {
      grid.removeChild(grid.lastChild);
    }
    
    // Cargar reservas
    const reservas = await getReservasForMonth(year, month);
    
    let dayCount = 1;
    let nextMonthDay = 1;
    
    // Generar 6 semanas (42 días)
    for(let i = 0; i < 42; i++) {
      const dayCell = document.createElement('div');
      dayCell.className = 'calendar-day';
      
      let dayNumber;
      let isCurrentMonth = true;
      let cellDate;
      
      // Días del mes anterior
      if(i < startDay) {
        dayNumber = prevMonthLastDay - (startDay - i - 1);
        dayCell.classList.add('other-month');
        isCurrentMonth = false;
        cellDate = new Date(year, month - 1, dayNumber);
      }
      // Días del mes actual
      else if(dayCount <= lastDay.getDate()) {
        dayNumber = dayCount;
        cellDate = new Date(year, month, dayNumber);
        
        // Marcar día actual
        const today = new Date();
        if(cellDate.toDateString() === today.toDateString()) {
          dayCell.classList.add('today');
        }
        
        dayCount++;
      }
      // Días del mes siguiente
      else {
        dayNumber = nextMonthDay;
        dayCell.classList.add('other-month');
        isCurrentMonth = false;
        cellDate = new Date(year, month + 1, nextMonthDay);
        nextMonthDay++;
      }
      
      dayCell.innerHTML = `<div class="day-number">${dayNumber}</div>`;
      
      // Agregar reservas del día
      if(isCurrentMonth) {
        const dayReservas = reservas.filter(r => {
          const rDate = new Date(r.fecha);
          return rDate.getDate() === dayNumber;
        });
        
        dayReservas.forEach(r => {
          const eventDiv = document.createElement('div');
          eventDiv.className = `calendar-event ${r.estado}`;
          eventDiv.textContent = `${r.horaInicio} ${r.sala}`;
          eventDiv.title = `${r.sala} - ${r.horaInicio} a ${r.horaFin}\nEstado: ${r.estado}`;
          dayCell.appendChild(eventDiv);
        });
      }
      
      grid.appendChild(dayCell);
    }
  }

  async function getReservasForMonth(year, month) {
    try {
      const keys = await window.storage.list('reserva:');
      if (!keys || !keys.keys || keys.keys.length === 0) return [];
      
      const reservas = [];
      for (const key of keys.keys) {
        try {
          const result = await window.storage.get(key);
          if (result && result.value) {
            const reserva = JSON.parse(result.value);
            if (reserva.asesor === currentUser.email) {
              const rDate = new Date(reserva.fecha);
              if (rDate.getFullYear() === year && rDate.getMonth() === month) {
                reservas.push(reserva);
              }
            }
          }
        } catch (e) {
          console.error('Error loading reserva:', e);
        }
      }
      return reservas;
    } catch (error) {
      console.error('Error:', error);
      return [];
    }
  }

  function prevMonth() {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar();
  }

  function nextMonth() {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar();
  }

  function showNewReserva() {
    document.getElementById('reservaForm').style.display = 'block';
    // Set fecha mínima a hoy
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('reservaFecha').min = today;
  }

  function hideReservaForm() {
    document.getElementById('reservaForm').style.display = 'none';
    document.getElementById('reservaFecha').value = '';
    document.getElementById('reservaSala').value = '';
    document.getElementById('reservaHoraInicio').value = '';
    document.getElementById('reservaHoraFin').value = '';
    document.getElementById('reservaMotivo').value = '';
  }

  async function solicitarReserva() {
    const fecha = document.getElementById('reservaFecha').value;
    const sala = document.getElementById('reservaSala').value;
    const horaInicio = document.getElementById('reservaHoraInicio').value;
    const horaFin = document.getElementById('reservaHoraFin').value;
    const motivo = document.getElementById('reservaMotivo').value;
    
    if (!fecha || !sala || !horaInicio || !horaFin) {
      alert('Por favor completa todos los campos obligatorios');
      return;
    }
    
    const reserva = {
      id: 'res_' + Date.now(),
      asesor: currentUser.email,
      asesorNombre: currentUser.nombre,
      fecha,
      sala,
      horaInicio,
      horaFin,
      motivo,
      estado: 'pendiente',
      fechaSolicitud: new Date().toISOString()
    };
    
    try {
      await window.storage.set(`reserva:${reserva.id}`, JSON.stringify(reserva));
      alert('✅ Solicitud enviada. Será revisada por el equipo de operaciones.');
      hideReservaForm();
      await loadReservas();
    } catch (error) {
      alert('Error al guardar la reserva');
      console.error(error);
    }
  }

  async function loadReservas() {
    try {
      const keys = await window.storage.list('reserva:');
      if (!keys || !keys.keys || keys.keys.length === 0) {
        document.getElementById('reservasList').innerHTML = '<p style="color:#6b7280">No tienes reservas</p>';
        return;
      }
      
      const reservas = [];
      for (const key of keys.keys) {
        try {
          const result = await window.storage.get(key);
          if (result && result.value) {
            const reserva = JSON.parse(result.value);
            if (reserva.asesor === currentUser.email) {
              reservas.push(reserva);
            }
          }
        } catch (e) {
          console.error('Error loading reserva:', e);
        }
      }
      
      reservas.sort((a, b) => new Date(b.fechaSolicitud) - new Date(a.fechaSolicitud));
      
      if (reservas.length === 0) {
        document.getElementById('reservasList').innerHTML = '<p style="color:#6b7280">No tienes reservas</p>';
        return;
      }
      
      document.getElementById('reservasList').innerHTML = reservas.map(r => `
        <div class="reserva-card ${r.estado}">
          <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom:8px">
            <div>
              <strong style="font-size:1.1rem">${r.sala}</strong>
              <span class="badge ${r.estado}">${r.estado.toUpperCase()}</span>
            </div>
            <span style="color:#6b7280; font-size:.9rem">${new Date(r.fecha).toLocaleDateString('es-ES')}</span>
          </div>
          <p style="margin:4px 0; color:#374151">
            ⏰ ${r.horaInicio} - ${r.horaFin}
          </p>
          ${r.motivo ? `<p style="margin:8px 0 0; color:#6b7280; font-size:.95rem">${r.motivo}</p>` : ''}
        </div>
      `).join('');
      
    } catch (error) {
      console.error('Error loading reservas:', error);
      document.getElementById('reservasList').innerHTML = '<p style="color:#ef4444">Error al cargar reservas</p>';
    }
  }

  // ==================== DASHBOARD OPERACIONES ====================

  async function showOperacionesDashboard() {
    // Ocultar toda la landing page
    document.body.classList.add('dashboard-active');
    
    // Mostrar dashboard de operaciones
    document.getElementById('operacionesDashboard').classList.add('active');
    await loadAllReservas();
  }

  async function loadAllReservas() {
    try {
      const keys = await window.storage.list('reserva:');
      if (!keys || !keys.keys || keys.keys.length === 0) {
        document.getElementById('pendientesList').innerHTML = '<p style="color:#6b7280">No hay solicitudes pendientes</p>';
        document.getElementById('allReservasList').innerHTML = '<p style="color:#6b7280">No hay reservas</p>';
        return;
      }
      
      const reservas = [];
      for (const key of keys.keys) {
        try {
          const result = await window.storage.get(key);
          if (result && result.value) {
            reservas.push(JSON.parse(result.value));
          }
        } catch (e) {
          console.error('Error loading reserva:', e);
        }
      }
      
      reservas.sort((a, b) => new Date(b.fechaSolicitud) - new Date(a.fechaSolicitud));
      
      const pendientes = reservas.filter(r => r.estado === 'pendiente');
      
      // Pendientes
      document.getElementById('pendientesList').innerHTML = pendientes.length === 0 ? 
        '<p style="color:#6b7280">No hay solicitudes pendientes</p>' :
        pendientes.map(r => `
          <div class="reserva-card pendiente" style="margin-bottom:12px">
            <div style="display:flex; justify-content:space-between; margin-bottom:12px">
              <div>
                <strong style="font-size:1.1rem">${r.sala}</strong><br>
                <span style="color:#6b7280">Solicitado por: ${r.asesorNombre}</span>
              </div>
              <span style="color:#6b7280">${new Date(r.fecha).toLocaleDateString('es-ES')}</span>
            </div>
            <p style="margin:4px 0">⏰ ${r.horaInicio} - ${r.horaFin}</p>
            ${r.motivo ? `<p style="margin:8px 0; color:#6b7280">${r.motivo}</p>` : ''}
            <div style="display:flex; gap:8px; margin-top:12px">
              <button class="btn primary" onclick="aprobarReserva('${r.id}')" style="padding:.6rem 1rem">✓ Aprobar</button>
              <button class="btn" onclick="rechazarReserva('${r.id}')" style="padding:.6rem 1rem; background:transparent; color:#ef4444; border:1.5px solid #ef4444">✗ Rechazar</button>
            </div>
          </div>
        `).join('');
      
      // Todas
      document.getElementById('allReservasList').innerHTML = reservas.map(r => `
        <div class="reserva-card ${r.estado}" style="margin-bottom:12px">
          <div style="display:flex; justify-content:space-between">
            <div>
              <strong>${r.sala}</strong>
              <span class="badge ${r.estado}">${r.estado.toUpperCase()}</span><br>
              <span style="color:#6b7280; font-size:.9rem">${r.asesorNombre}</span>
            </div>
            <div style="text-align:right">
              <div>${new Date(r.fecha).toLocaleDateString('es-ES')}</div>
              <div style="color:#6b7280; font-size:.9rem">${r.horaInicio} - ${r.horaFin}</div>
            </div>
          </div>
        </div>
      `).join('');
      
    } catch (error) {
      console.error('Error:', error);
      document.getElementById('pendientesList').innerHTML = '<p style="color:#ef4444">Error al cargar solicitudes</p>';
      document.getElementById('allReservasList').innerHTML = '<p style="color:#ef4444">Error al cargar reservas</p>';
    }
  }

  async function aprobarReserva(id) {
    try {
      const result = await window.storage.get(`reserva:${id}`);
      if (!result) {
        alert('Error: Reserva no encontrada');
        return;
      }
      const reserva = JSON.parse(result.value);
      reserva.estado = 'aprobada';
      reserva.aprobadoPor = currentUser.email;
      reserva.fechaAprobacion = new Date().toISOString();
      
      await window.storage.set(`reserva:${id}`, JSON.stringify(reserva));
      alert('✅ Reserva aprobada');
      await loadAllReservas();
    } catch (error) {
      alert('Error al aprobar');
      console.error(error);
    }
  }

  async function rechazarReserva(id) {
    const motivo = prompt('Motivo del rechazo (opcional):');
    try {
      const result = await window.storage.get(`reserva:${id}`);
      if (!result) {
        alert('Error: Reserva no encontrada');
        return;
      }
      const reserva = JSON.parse(result.value);
      reserva.estado = 'rechazada';
      reserva.rechazadoPor = currentUser.email;
      reserva.motivoRechazo = motivo || '';
      reserva.fechaRechazo = new Date().toISOString();
      
      await window.storage.set(`reserva:${id}`, JSON.stringify(reserva));
      alert('❌ Reserva rechazada');
      await loadAllReservas();
    } catch (error) {
      alert('Error al rechazar');
      console.error(error);
    }
  }

  // ==================== CREDENCIALES DE PRUEBA ====================
  console.log('%c=== CREDENCIALES DE PRUEBA ===', 'color:#10b981; font-size:16px; font-weight:bold');
  console.log('%cSOCIOS/ASESORES:', 'color:#3b82f6; font-weight:bold');
  console.log('• asesor1@sigma.com / demo123');
  console.log('• asesor2@sigma.com / demo123');
  console.log('• asesor3@sigma.com / demo123');
  console.log('%cOPERACIONES:', 'color:#f59e0b; font-weight:bold');
  console.log('• ops1@sigma.com / ops123');
  console.log('• ops2@sigma.com / ops123');
  console.log('• ops3@sigma.com / ops123');
  console.log('%c\nAbre la consola para ver estas credenciales', 'color:#6b7280; font-style:italic');

  </script>
  <!-- ================================= SCRIPTS: FIN ====================== -->
<script src="js/storage.js" defer></script>
<script src="js/guards.js" defer></script>
<script src="js/auth.js" defer></script>
<script src="js/app.js" defer></script>
</body>
</html>